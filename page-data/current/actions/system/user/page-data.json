{"componentChunkName":"component---src-templates-action-js","path":"/current/actions/system/user/","result":{"data":{"page":{"slug":"/current/actions/system/user/","edit_url":"https://github.com/adaltas/node-nikita/edit/master/packages/system/src/user/index.coffee.md","package":{"id":"1199c603-e361-545a-ae29-9aa93459d9d1","keywords":["nikita","build","cli","deploy","ssh","install","linux","system","sysctl","authconfig","cgroups","limits","mod"]},"name":"system.user","version":{"alias":"current"},"parent":{"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Create or modify a Unix user.\"), mdx(\"p\", null, \"If the user home is provided, its parent directory will be created with root\\nownerships and 0644 permissions unless it already exists.\"), mdx(\"h2\", {\n    \"id\": \"callback-parameters\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#callback-parameters\",\n    \"aria-label\": \"callback parameters permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Callback parameters\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"code\", {\n    parentName: \"li\",\n    \"className\": \"language-text\"\n  }, \"$status\"), mdx(\"br\", {\n    parentName: \"li\"\n  }), \"Value is \\\"true\\\" if user was created or modified.\")), mdx(\"h2\", {\n    \"id\": \"example\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#example\",\n    \"aria-label\": \"example permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Example\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"js\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-js\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"const\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"$status\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"await\"), \" nikita\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"system\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"user\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n  name\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'a_user'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n  system\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token boolean\"\n  }, \"true\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n  uid\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"490\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n  gid\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"10\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n  comment\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'A System User'\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\nconsole\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"log\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token template-string\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token template-punctuation string\"\n  }, \"`\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token string\"\n  }, \"User created: \"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token interpolation\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token interpolation-punctuation punctuation\"\n  }, \"${\"), \"$status\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token interpolation-punctuation punctuation\"\n  }, \"}\")), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token template-punctuation string\"\n  }, \"`\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\")))), mdx(\"p\", null, \"The result of the above action can be viewed with the command\\n\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"cat /etc/passwd | grep myself\"), \" producing an output similar to\\n\\\"a\", \"_\", \"user:x:490:490:A System User:/home/a\", \"_\", \"user:/bin/bash\\\". You can also check\\nyou are a member of the \\\"wheel\\\" group (gid of \\\"10\\\") with the command\\n\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"id a\\\\_user\"), \" producing an output similar to\\n\\\"uid=490(hive) gid=10(wheel) groups=10(wheel)\\\".\"), mdx(\"h2\", {\n    \"id\": \"hooks\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#hooks\",\n    \"aria-label\": \"hooks permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Hooks\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-text\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-text\"\n  }, \"on_action = ({config}) ->\\n  switch config.shell\\n    when true\\n      config.shell = '/bin/sh'\\n    when false\\n      config.shell = '/sbin/nologin'\\n  config.groups = config.groups.split ',' if typeof config.groups is 'string'\"))), mdx(\"h2\", {\n    \"id\": \"schema-definitions\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#schema-definitions\",\n    \"aria-label\": \"schema definitions permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Schema definitions\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-text\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-text\"\n  }, \"definitions =\\n  config:\\n    type: 'object'\\n    properties:\\n      'comment':\\n        type: 'string'\\n        description: '''\\n        Short description of the login.\\n        '''\\n      'expiredate':\\n        type: 'integer'\\n        description: '''\\n        The date on which the user account is disabled.\\n        '''\\n      'gid':\\n        type: 'integer'\\n        description: '''\\n        Group name or number of the user\\xB4s initial login group.\\n        '''\\n      'groups':\\n        type: 'array'\\n        items: type: 'string'\\n        description: '''\\n        List of supplementary groups which the user is also a member of.\\n        '''\\n      'home':\\n        type: 'string'\\n        description: '''\\n        Value for the user\\xB4s login directory, default to the login name\\n        appended to \\\"BASE_DIR\\\".\\n        '''\\n      'inactive':\\n        type: 'integer'\\n        description: '''\\n        The number of days after a password has expired before the account\\n        will be disabled.\\n        '''\\n      'name':\\n        type: 'string'\\n        description: '''\\n        Login name of the user.\\n        '''\\n      'no_home_ownership':\\n        type: 'boolean'\\n        description: '''\\n        Disable ownership on home directory which default to the \\\"uid\\\" and\\n        \\\"gid\\\" config, default is \\\"false\\\".\\n        '''\\n      'password':\\n        type: 'string'\\n        description: '''\\n        The unencrypted password.\\n        '''\\n      'password_sync':\\n        type: 'boolean'\\n        default: true\\n        description: '''\\n        Synchronize password\\n        '''\\n      'shell':\\n        # oneOf: [\\n        #   type: 'boolean'\\n        # ,\\n        #   type: 'string'\\n        # ]\\n        type: ['boolean', 'string']\\n        default: '/bin/sh'\\n        description: '''\\n        Path to the user shell, set to \\\"/sbin/nologin\\\" if `false` and \\\"/bin/sh\\\"\\n        if `true` or `undefined`.\\n        '''\\n      'skel':\\n        type: 'string'\\n        description: '''\\n        The skeleton directory, which contains files and directories to be\\n        copied in the user\\xB4s home directory, when the home directory is\\n        created by useradd.\\n        '''\\n      'system':\\n        type: 'boolean'\\n        description: '''\\n        Create a system account, such user are not created with a home by\\n        default, set the \\\"home\\\" option if we it to be created.\\n        '''\\n      'uid':\\n        type: 'integer'\\n        description: '''\\n        Numerical value of the user\\xB4s ID, must not exist.\\n        '''\\n    required: ['name']\"))), mdx(\"h2\", {\n    \"id\": \"handler\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#handler\",\n    \"aria-label\": \"handler permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Handler\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-text\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-text\"\n  }, \"handler = ({metadata, config, tools: {log}}) ->\\n  log message: \\\"Entering user\\\", level: 'DEBUG'\\n  config.system ?= false\\n  config.gid ?= null\\n  config.password_sync ?= true\\n  throw Error \\\"Invalid option 'shell': #{JSON.strinfigy config.shell}\\\" if config.shell? typeof config.shell isnt 'string'\\n  user_info = groups_info = null\\n  {users} = await @system.user.read()\\n  user_info = users[config.name]\\n  log if user_info\\n  then message: \\\"Got user information for #{JSON.stringify config.name}\\\", level: 'DEBUG', module: 'nikita/lib/system/group'\\n  else message: \\\"User #{JSON.stringify config.name} not present\\\", level: 'DEBUG', module: 'nikita/lib/system/group'\\n  # Get group information if\\n  # * user already exists\\n  # * we need to compare groups membership\\n  {groups} = await @system.group.read\\n    $if: user_info and config.groups\\n  groups_info = groups\\n  log message: \\\"Got group information for #{JSON.stringify config.name}\\\", level: 'DEBUG' if groups_info\\n  if config.home\\n    @fs.mkdir\\n      $unless_exists: path.dirname config.home\\n      target: path.dirname config.home\\n      uid: 0\\n      gid: 0\\n      mode: 0o0644 # Same as '/home'\\n  unless user_info\\n    await @execute [\\n      code_skipped: 9\\n      command: [\\n        'useradd'\\n        '-r' if config.system\\n        '-M' unless config.home\\n        '-m' if config.home\\n        \\\"-d #{config.home}\\\" if config.home\\n        \\\"-s #{config.shell}\\\" if config.shell\\n        \\\"-c #{utils.string.escapeshellarg config.comment}\\\" if config.comment\\n        \\\"-u #{config.uid}\\\" if config.uid\\n        \\\"-g #{config.gid}\\\" if config.gid\\n        \\\"-e #{config.expiredate}\\\" if config.expiredate\\n        \\\"-f #{config.inactive}\\\" if config.inactive\\n        \\\"-G #{config.groups.join ','}\\\" if config.groups\\n        \\\"-k #{config.skel}\\\" if config.skel\\n        \\\"#{config.name}\\\"\\n        ].join ' '\\n    ,\\n      $if: config.home\\n      command: \\\"chown #{config.name}. #{config.home}\\\"\\n    ]\\n    log message: \\\"User defined elsewhere than '/etc/passwd', exit code is 9\\\", level: 'WARN'\\n  else\\n    changed = []\\n    for k in ['uid', 'home', 'shell', 'comment', 'gid']\\n      changed.push k if config[k]? and user_info[k] isnt config[k]\\n    if config.groups then for group in config.groups\\n      throw Error \\\"Group does not exist: #{group}\\\" unless groups_info[group]\\n      changed.push 'groups' if groups_info[group].users.indexOf(config.name) is -1\\n    log if changed.length\\n    then message: \\\"User #{config.name} modified\\\", level: 'WARN', module: 'nikita/lib/system/user/add'\\n    else message: \\\"User #{config.name} not modified\\\", level: 'DEBUG', module: 'nikita/lib/system/user/add'\\n    try\\n      await @execute\\n        $if: changed.length\\n        command: [\\n          'usermod'\\n          \\\"-d #{config.home}\\\" if config.home\\n          \\\"-s #{config.shell}\\\" if config.shell\\n          \\\"-c #{utils.string.escapeshellarg config.comment}\\\" if config.comment?\\n          \\\"-g #{config.gid}\\\" if config.gid\\n          \\\"-G #{config.groups.join ','}\\\" if config.groups\\n          \\\"-u #{config.uid}\\\" if config.uid\\n          \\\"#{config.name}\\\"\\n        ].join ' '\\n    catch err\\n      if err.exit_code is 8\\n        throw Error \\\"User #{config.name} is logged in\\\"\\n      else throw err\\n    if config.home and (config.uid or config.gid)\\n      await @fs.chown\\n        $if_exists: config.home\\n        $unless: config.no_home_ownership\\n        target: config.home\\n        uid: config.uid\\n        gid: config.gid\\n  # TODO, detect changes in password\\n  # echo #{config.password} | passwd --stdin #{config.name}\\n  if config.password_sync and config.password\\n    {$status} = await @execute\\n      command: \\\"\\\"\\\"\\n      hash=$(echo #{config.password} | openssl passwd -1 -stdin)\\n      usermod --pass=\\\"$hash\\\" #{config.name}\\n      \\\"\\\"\\\"\\n      # arch_chroot: config.arch_chroot\\n      # rootdir: config.rootdir\\n      # sudo: config.sudo\\n    log message: \\\"Password modified\\\", level: 'WARN' if $status\"))), mdx(\"h2\", {\n    \"id\": \"exports\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#exports\",\n    \"aria-label\": \"exports permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Exports\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-text\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-text\"\n  }, \"module.exports =\\n  handler: handler\\n  hooks:\\n    on_action: on_action\\n  metadata:\\n    argument_to_config: 'name'\\n    definitions: definitions\"))), mdx(\"h2\", {\n    \"id\": \"dependencies\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#dependencies\",\n    \"aria-label\": \"dependencies permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Dependencies\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-text\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-text\"\n  }, \"path = require 'path'\\nutils = require '../utils'\"))));\n}\n;\nMDXContent.isMDXComponent = true;","tableOfContents":{"items":[{"url":"#nikitasystemuser","title":"nikita.system.user","items":[{"url":"#callback-parameters","title":"Callback parameters"},{"url":"#example","title":"Example"},{"url":"#hooks","title":"Hooks"},{"url":"#schema-definitions","title":"Schema definitions"},{"url":"#handler","title":"Handler"},{"url":"#exports","title":"Exports"},{"url":"#dependencies","title":"Dependencies"}]}]},"excerpt":"nikita.system.user Create or modify a Unix user. If the user home is provided, its parent directory will be created with root \nownerships and 0644 permissions unless it already exists. Callback paramâ€¦"}}},"pageContext":{}},"staticQueryHashes":["2288906906","393869461"]}