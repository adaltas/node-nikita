// Generated by CoffeeScript 2.7.0
module.exports = {
  stringify: function(mode) {
    if (typeof mode === 'number') {
      return mode.toString(8);
    } else {
      return mode;
    }
  },
  /*
  Compare multiple mode. All arguments modes must match. If first mode is any array, then
  other arguments mode must much at least one element of the array.
  */
  compare: function(...modes) {
    let ref = modes[0];
    if (ref == null) {
      throw Error(`Invalid mode: ${ref}`);
    }
    if (!Array.isArray(ref)) {
      ref = [ref];
    }
    ref = ref.map((mode) => this.stringify(mode) );
    for (let i = 1; i < modes.length; i++) {
      const mode = this.stringify(modes[i]);
      if (!ref.some(function(m) {
        const l = Math.min(m.length, mode.length);
        return m.substr(-l) === mode.substr(-l);
      })) {
        return false;
      }
    }
    return true;
  }
};
