// Generated by CoffeeScript 2.3.0
// # `nikita.fs.rename(options, callback)`

// Change the name or location of a file.

// ## Source Code
module.exports = {
  status: false,
  handler: function(options, callback) {
    this.log({
      message: "Entering fs.rename",
      level: 'DEBUG',
      module: 'nikita/lib/fs/rename'
    });
    if (options.argument != null) {
      // Normalize options
      options.target = options.argument;
    }
    if (!options.target) {
      throw Error("Required Option: the \"target\" option is mandatory");
    }
    if (!options.source) {
      throw Error("Required Option: the \"source\" option is mandatory");
    }
    return this.system.execute({
      cmd: `mv ${options.source} ${options.target}`,
      sudo: options.sudo,
      bash: options.bash,
      arch_chroot: options.arch_chroot
    }, function(err, _, stdout) {
      return callback(err, stdout.trim());
    });
  }
};
